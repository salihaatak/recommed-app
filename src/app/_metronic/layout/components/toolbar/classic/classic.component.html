<ng-container *ngIf="showToolbar">

  <ng-container *ngIf="appToolbarFilterButton">
    <!--begin::Filter menu-->
    <div class="m-0">
      <!--begin::Menu toggle-->
      <a href="#" class="btn btn-sm btn-flex fw-bold" [ngClass]="daterangepickerButtonClass" data-kt-menu-trigger="click"
        data-kt-menu-placement="bottom-end">
        <app-keenicon name="filter" class="fs-6 text-muted me-1"></app-keenicon>
        Filter1
      </a>
      <!--end::Menu toggle-->

      <app-dropdown-menu1></app-dropdown-menu1>
    </div>
    <!--end::Filter menu-->
  </ng-container>

  <ng-container *ngIf="appToolbarDaterangepickerButton">
    <div data-kt-daterangepicker="true" data-kt-daterangepicker-opens="left"
      class="btn btn-sm fw-bold  d-flex align-items-center px-4" [ngClass]="daterangepickerButtonClass">
      <!--begin::Display range-->
      <div class="text-gray-600 fw-bold">
        Loading date range...
      </div>
      <!--end::Display range-->
      <app-keenicon name="calendar-8" class="fs-1 ms-2 me-0"></app-keenicon>
    </div>
  </ng-container>

  <a class="btn btn-sm fw-bold btn-primary" data-bs-toggle="modal"
    data-bs-target="#kt_modal_create_app"
    *ngIf="this.appService.role === 'r'" (click)="openModalRecommender()">
    <i class="fa-solid fa-coins fs-3"></i>
    Tavsiye Et Kazan
  </a>

  <a class="btn btn-sm fw-bold btn-primary" data-bs-toggle="modal"
    data-bs-target="#kt_modal_create_app"
    *ngIf="this.appService.role === 'o' || this.appService.role === 'u'" (click)="openModalProvider()">
    <i class="fa-solid fa-user-plus fs-3"></i>
    Sağlık Elçisi Davet
  </a>

  <app-modal #modalRecommender [modalConfig]="modalConfigRecommender">
    <div class="row g-3 mb-9 flex-center">
      <div class="col-md-3">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnSelectContactsClick()">
          <span class="fs-1x">Telefon Rehberim'den Numara Gönder</span>
          <i class="fa-solid fa-address-book fs-3"></i>
        </a>
      </div>

      <div class="col-md-3">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnShareRecommenderClick()">
          <span class="fs-1x">Link Paylaş</span>
          <i class="fa-solid fa-share-nodes fs-3"></i>
        </a>
      </div>

      <div class="col-md-3" *ngIf="this.appService.IsAndroid">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnWhatsappRecommenderClick()">
          <span class="fs-1x">Whatsapp ile Link Gönder</span>
          <i class="fa-brands fa-whatsapp fs-3"></i>
        </a>
      </div>

      <div class="col-md-3">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnQRRecommendClick()">
          <span class="fs-1x">Kare Kod Göster</span>
          <i class="fa-solid fa-qrcode fs-3"></i>
        </a>
      </div>
    </div>
  </app-modal>

  <app-modal #modalProvider [modalConfig]="modalConfigProvider">
    <div class="row g-3 mb-9 flex-center">
      <div class="col-md-4">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnShareProviderClick()">
          <span class="fs-1x">Paylaş</span>
          <i class="fa-solid fa-share-nodes fs-3"></i>
        </a>
      </div>

      <div class="col-md-4" *ngIf="this.appService.IsAndroid">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnWhatsappProviderClick()">
          <span class="fs-1x">Whatsapp</span>
          <i class="fa-brands fa-whatsapp fs-3"></i>
        </a>
      </div>

      <div class="col-md-3">
        <a class="btn btn-primary d-flex justify-content-between align-items-center text-nowrap w-100" (click)="btnQRInviteClick()">
          <span class="fs-1x">Kare Kod Göster</span>
          <i class="fa-solid fa-qrcode fs-3"></i>
        </a>
      </div>

      <div class="col-md-4">
        <span class="d-flex justify-content-between align-items-center text-nowrap w-100">
          <span class="fs-1x fw-bold mt-10">İşletmenizin Davet Kodu: {{this.encryptionKey}}</span>
        </span>
        <div class="text-muted mt-5">
          Daha önce sizden hizmet almış olan müşterileriniz Recommed mobil uygulamasını AppStore veya Google Play'den indirip bu davet kodunu girebilirler.
          Böylece sizin Sağlık Elçiniz olurlar. Yaptıkları tüm tavsiyeler size akar!
        </div>

      </div>
    </div>

  </app-modal>


  <app-modal #modalQrRecommend [modalConfig]="modalConfigQrRecommend">
    <div class="row g-3 mb-9 flex-center">
      <div class="col-md-4 text-center">

        <qrcode [qrdata]="urlRecommend" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>

        <div class="text-muted mt-5">
          Çevrenizdekiler bu kare kodu telefon kamerasına okutursa, sizin aracılığınızda <b>{{this.appService.currentUserValue?.account?.name}}</b> adlı işletmeye ulaştığı kayıt altına alınır.
        </div>

      </div>
    </div>
  </app-modal>

  <app-modal #modalQrInvite [modalConfig]="modalConfigQrInvite">
    <div class="row g-3 mb-9 flex-center">
      <div class="col-md-4 text-center">

        <qrcode [qrdata]="urlInvite" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>


      </div>
    </div>
  </app-modal>


</ng-container>
